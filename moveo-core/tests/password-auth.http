### Password-Based Authentication Flow Tests
### This file tests the complete email activation and password login flow

### 1. Create User with Email (Staff creates user)
POST http://localhost:3000/api/auth/users
Content-Type: application/json

{
  "name": "John Doe",
  "username": "johndoe",
  "email": "john.doe@example.com",
  "phone": "+1234567890"
}

### 2. Generate OTP (Legacy OTP flow - should still work)
POST http://localhost:3000/api/auth/generate-otp
Content-Type: application/json

{
  "username": "johndoe"
}

### 3. Login with OTP (Legacy OTP flow - should still work)
POST http://localhost:3000/api/auth/login-otp
Content-Type: application/json

{
  "username": "johndoe",
  "otp": "123456"
}

### 4. Activate Account (User clicks email link and sets password)
POST http://localhost:3000/api/auth/activate
Content-Type: application/json

{
  "activationCode": "REPLACE_WITH_ACTUAL_CODE_FROM_EMAIL",
  "password": "newpassword123",
  "username": "johndoe"
}

### 5. Login with Password (New password-based login)
POST http://localhost:3000/api/auth/login-password
Content-Type: application/json

{
  "username": "johndoe",
  "password": "newpassword123"
}

### 6. Request Password Reset
POST http://localhost:3000/api/auth/request-password-reset
Content-Type: application/json

{
  "email": "john.doe@example.com"
}

### 7. Reset Password
POST http://localhost:3000/api/auth/reset-password
Content-Type: application/json

{
  "resetCode": "REPLACE_WITH_ACTUAL_RESET_CODE_FROM_EMAIL",
  "newPassword": "newpassword456"
}

### 8. Login with New Password
POST http://localhost:3000/api/auth/login-password
Content-Type: application/json

{
  "username": "johndoe",
  "password": "newpassword456"
}

### 9. Get User Profile (Protected route)
GET http://localhost:3000/api/auth/profile
Authorization: Bearer REPLACE_WITH_JWT_TOKEN

### 10. Get All Users (Protected route)
GET http://localhost:3000/api/auth/users
Authorization: Bearer REPLACE_WITH_JWT_TOKEN



