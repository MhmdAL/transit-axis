{"ast":null,"code":"import { apiService } from './apiService';\n// import { mockAPI } from './mockData';\n\n// Unified data service interface\n\n// Mock data adapter to match API interface\n// class MockDataAdapter implements IDataService {\n//   // Vehicles\n//   async getVehicles(): Promise<Vehicle[]> {\n//     return mockAPI.getVehicles();\n//   }\n\n//   async getVehicleById(id: string): Promise<Vehicle | null> {\n//     return mockAPI.getVehicleById(id);\n//   }\n\n//   async createVehicle(data: CreateVehicleRequest): Promise<Vehicle> {\n//     // Convert API request to mock data format\n//     const newVehicle: Vehicle = {\n//       id: Date.now().toString(),\n//       plateNumber: data.plateNumber,\n//       make: data.make,\n//       model: data.model,\n//       year: data.year,\n//       fleetNumber: data.fleetNumber,\n//       color: data.color,\n//       vin: data.vin,\n//     //   capacity: data.capacity || 0,\n//     //   fuelType: data.fuelType || 'gasoline',\n//       status: data.status || 'active',\n//       mileage: 0,\n//       lastMaintenance: new Date(),\n//       nextMaintenance: new Date(),\n//     //   currentLocation: { lat: 0, lng: 0 },\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     // In real implementation, this would update the mock data store\n//     return Promise.resolve(newVehicle);\n//   }\n\n//   async updateVehicle(id: string, data: UpdateVehicleRequest): Promise<Vehicle> {\n//     const existing = await this.getVehicleById(id);\n//     if (!existing) throw new Error('Vehicle not found');\n\n//     const updated: Vehicle = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteVehicle(id: string): Promise<void> {\n//     // Mock implementation\n//     return Promise.resolve();\n//   }\n\n//   // Drivers\n//   async getDrivers(): Promise<Driver[]> {\n//     return mockAPI.getDrivers();\n//   }\n\n//   async getDriverById(id: string): Promise<Driver | null> {\n//     return mockAPI.getDriverById(id);\n//   }\n\n//   async createDriver(data: CreateDriverRequest): Promise<Driver> {\n//     const newDriver: Driver = {\n//       id: Date.now().toString(),\n//       firstName: data.firstName,\n//       lastName: data.lastName,\n//       email: data.email,\n//       phone: data.phone,\n//       employeeId: data.employeeId,\n//       licenseNumber: data.licenseNumber,\n//       licenseClass: data.licenseClass,\n//       licenseExpiry: new Date(data.licenseExpiry),\n//       dateOfBirth: new Date(data.dateOfBirth),\n//       address: data.address,\n//     //   status: data.status || 'active',\n//       rating: 0,\n//       totalTrips: 0,\n//       totalDistance: 0,\n//       joinDate: new Date(),\n//     //   currentLocation: { lat: 0, lng: 0 },\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newDriver);\n//   }\n\n//   async updateDriver(id: string, data: UpdateDriverRequest): Promise<Driver> {\n//     const existing = await this.getDriverById(id);\n//     if (!existing) throw new Error('Driver not found');\n\n//     const updated: Driver = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteDriver(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   // Routes\n//   async getRoutes(): Promise<Route[]> {\n//     return mockAPI.getRoutes();\n//   }\n\n//   async getRouteById(id: string): Promise<Route | null> {\n//     return mockAPI.getRouteById(id);\n//   }\n\n//   async createRoute(data: CreateRouteRequest): Promise<Route> {\n//     const newRoute: Route = {\n//       id: Date.now().toString(),\n//       name: data.name,\n//       description: data.description,\n//       startLocation: data.startLocation,\n//       endLocation: data.endLocation,\n//       stops: data.stops,\n//       estimatedDistance: data.estimatedDistance,\n//       estimatedDuration: data.estimatedDuration,\n//       status: data.status || 'active',\n//       assignedVehicles: [],\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newRoute);\n//   }\n\n//   async updateRoute(id: string, data: UpdateRouteRequest): Promise<Route> {\n//     const existing = await this.getRouteById(id);\n//     if (!existing) throw new Error('Route not found');\n\n//     const updated: Route = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteRoute(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   // Stops\n//   async getStops(): Promise<Stop[]> {\n//     return mockAPI.getStops();\n//   }\n\n//   async getStopById(id: string): Promise<Stop | null> {\n//     return mockAPI.getStopById(id);\n//   }\n\n//   async createStop(data: CreateStopRequest): Promise<Stop> {\n//     const newStop: Stop = {\n//       id: Date.now().toString(),\n//       name: data.name,\n//       code: data.code,\n//       location: data.location,\n//       address: data.address,\n//       description: data.description,\n//       type: data.type,\n//       isActive: data.isActive !== false,\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newStop);\n//   }\n\n//   async updateStop(id: string, data: UpdateStopRequest): Promise<Stop> {\n//     const existing = await this.getStopById(id);\n//     if (!existing) throw new Error('Stop not found');\n\n//     const updated: Stop = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteStop(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   // Trips\n//   async getTrips(): Promise<Trip[]> {\n//     return mockAPI.getTrips();\n//   }\n\n//   async getTripById(id: string): Promise<Trip | null> {\n//     return mockAPI.getTripById(id);\n//   }\n\n//   async createTrip(data: CreateTripRequest): Promise<Trip> {\n//     const newTrip: Trip = {\n//       id: Date.now().toString(),\n//       code: data.code,\n//       routeId: data.routeId,\n//       scheduledStartTime: new Date(data.scheduledStartTime),\n//       scheduledEndTime: new Date(data.scheduledEndTime),\n//       status: 'planned',\n//       notes: data.notes,\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newTrip);\n//   }\n\n//   async updateTrip(id: string, data: UpdateTripRequest): Promise<Trip> {\n//     const existing = await this.getTripById(id);\n//     if (!existing) throw new Error('Trip not found');\n\n//     const updated: Trip = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteTrip(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   async assignVehicleToTrip(data: AssignVehicleRequest): Promise<Trip> {\n//     return this.updateTrip(data.tripId, { vehicleId: data.vehicleId });\n//   }\n\n//   async assignDriverToTrip(data: AssignDriverRequest): Promise<Trip> {\n//     return this.updateTrip(data.tripId, { driverId: data.driverId });\n//   }\n\n//   // Dashboard\n//   async getDashboardStats(): Promise<DashboardStats> {\n//     return mockAPI.getDashboardStats();\n//   }\n// }\n\n// API data adapter\nclass ApiDataAdapter {\n  // Vehicles\n  async getVehicles(params) {\n    return apiService.getVehicles(params);\n  }\n  async getVehicleById(id) {\n    try {\n      return await apiService.getVehicleById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n  async createVehicle(data) {\n    return apiService.createVehicle(data);\n  }\n  async updateVehicle(id, data) {\n    return apiService.updateVehicle(id, data);\n  }\n  async deleteVehicle(id) {\n    return apiService.deleteVehicle(id);\n  }\n\n  // Drivers\n  async getDrivers(params) {\n    return apiService.getDrivers(params);\n  }\n  async getDriverById(id) {\n    try {\n      return await apiService.getDriverById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n  async createDriver(data) {\n    return apiService.createDriver(data);\n  }\n  async updateDriver(id, data) {\n    return apiService.updateDriver(id, data);\n  }\n  async deleteDriver(id) {\n    return apiService.deleteDriver(id);\n  }\n\n  // Routes\n  async getRoutes(params) {\n    return apiService.getRoutes(params);\n  }\n  async getRouteById(id) {\n    try {\n      return await apiService.getRouteById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n  async createRoute(data) {\n    return apiService.createRoute(data);\n  }\n  async updateRoute(id, data) {\n    return apiService.updateRoute(id, data);\n  }\n  async deleteRoute(id) {\n    return apiService.deleteRoute(id);\n  }\n\n  // Stops\n  async getStops(params) {\n    return apiService.getStops(params);\n  }\n  async getStopById(id) {\n    try {\n      return await apiService.getStopById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n  async createStop(data) {\n    return apiService.createStop(data);\n  }\n  async updateStop(id, data) {\n    return apiService.updateStop(id, data);\n  }\n  async deleteStop(id) {\n    return apiService.deleteStop(id);\n  }\n\n  // Trips\n  async getTrips(params) {\n    return apiService.getTrips(params);\n  }\n  async getTripById(id) {\n    try {\n      return await apiService.getTripById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n  async createTrip(data) {\n    return apiService.createTrip(data);\n  }\n  async updateTrip(id, data) {\n    return apiService.updateTrip(id, data);\n  }\n  async deleteTrip(id) {\n    return apiService.deleteTrip(id);\n  }\n  async assignVehicleToTrip(data) {\n    return apiService.assignVehicleToTrip(data);\n  }\n  async assignDriverToTrip(data) {\n    return apiService.assignDriverToTrip(data);\n  }\n\n  // Dashboard\n  async getDashboardStats() {\n    return apiService.getDashboardStats();\n  }\n\n  // Vehicle Models\n  async getVehicleModels(params) {\n    return apiService.getVehicleModels(params);\n  }\n  async searchVehicleModels(search) {\n    return apiService.searchVehicleModels(search);\n  }\n  async getVehicleModelById(id) {\n    try {\n      return await apiService.getVehicleModelById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  // Authentication\n  async generateUserOtp(username) {\n    return apiService.generateUserOtp(username);\n  }\n  async loginUserWithOtp(username, otp) {\n    return apiService.loginUserWithOtp(username, otp);\n  }\n  async createUser(data) {\n    return apiService.createUser(data);\n  }\n  async activateAccount(data) {\n    return apiService.activateAccount(data);\n  }\n  async loginWithPassword(username, password) {\n    return apiService.loginWithPassword(username, password);\n  }\n  async requestPasswordReset(email) {\n    return apiService.requestPasswordReset(email);\n  }\n  async resetPassword(data) {\n    return apiService.resetPassword(data);\n  }\n  async getUsers(params) {\n    return apiService.getUsers(params);\n  }\n\n  // Service Schedules\n  async getServiceSchedules(params) {\n    return apiService.getServiceSchedules(params);\n  }\n  async getServiceScheduleById(id) {\n    try {\n      return await apiService.getServiceScheduleById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n  async createServiceSchedule(data) {\n    return apiService.createServiceSchedule(data);\n  }\n  async updateServiceSchedule(id, data) {\n    return apiService.updateServiceSchedule(id, data);\n  }\n  async deleteServiceSchedule(id) {\n    return apiService.deleteServiceSchedule(id);\n  }\n}\n\n// Create the appropriate data service based on configuration\nexport const dataService = new ApiDataAdapter();\n\n// Export types and classes for testing\n\nexport { ApiDataAdapter };","map":{"version":3,"names":["apiService","ApiDataAdapter","getVehicles","params","getVehicleById","id","error","createVehicle","data","updateVehicle","deleteVehicle","getDrivers","getDriverById","createDriver","updateDriver","deleteDriver","getRoutes","getRouteById","createRoute","updateRoute","deleteRoute","getStops","getStopById","createStop","updateStop","deleteStop","getTrips","getTripById","createTrip","updateTrip","deleteTrip","assignVehicleToTrip","assignDriverToTrip","getDashboardStats","getVehicleModels","searchVehicleModels","search","getVehicleModelById","generateUserOtp","username","loginUserWithOtp","otp","createUser","activateAccount","loginWithPassword","password","requestPasswordReset","email","resetPassword","getUsers","getServiceSchedules","getServiceScheduleById","createServiceSchedule","updateServiceSchedule","deleteServiceSchedule","dataService"],"sources":["/home/mhmdal/Projects/moveo-master/moveo/src/services/dataService.ts"],"sourcesContent":["import { API_CONFIG } from '../config/api';\nimport { apiService } from './apiService';\n// import { mockAPI } from './mockData';\nimport { \n  Vehicle, \n  Driver, \n  Route, \n  Stop, \n  Trip, \n  DashboardStats,\n  VehicleModel,\n  User,\n  ServiceSchedule,\n  Duty,\n  TripDuty\n} from '../types';\nimport { \n  ListQueryParams,\n  CreateVehicleRequest,\n  UpdateVehicleRequest,\n  CreateDriverRequest,\n  UpdateDriverRequest,\n  CreateRouteRequest,\n  UpdateRouteRequest,\n  CreateStopRequest,\n  UpdateStopRequest,\n  CreateTripRequest,\n  UpdateTripRequest,\n  AssignVehicleRequest,\n  AssignDriverRequest,\n  CreateServiceScheduleRequest,\n  UpdateServiceScheduleRequest,\n  CreateDutyRequest,\n  UpdateDutyRequest,\n  CreateBulkTripDutiesRequest\n} from '../types/api';\n\n// Unified data service interface\ninterface IDataService {\n  // Vehicles\n  getVehicles(params?: ListQueryParams): Promise<Vehicle[]>;\n  getVehicleById(id: string): Promise<Vehicle | null>;\n  createVehicle(data: CreateVehicleRequest): Promise<Vehicle>;\n  updateVehicle(id: string, data: UpdateVehicleRequest): Promise<Vehicle>;\n  deleteVehicle(id: string): Promise<void>;\n\n  // Drivers\n  getDrivers(params?: ListQueryParams): Promise<Driver[]>;\n  getDriverById(id: string): Promise<Driver | null>;\n  createDriver(data: CreateDriverRequest): Promise<Driver>;\n  updateDriver(id: string, data: CreateDriverRequest): Promise<Driver>;\n  deleteDriver(id: string): Promise<void>;\n\n  // Routes\n  getRoutes(params?: ListQueryParams): Promise<Route[]>;\n  getRouteById(id: string): Promise<Route | null>;\n  createRoute(data: CreateRouteRequest): Promise<Route>;\n  updateRoute(id: string, data: UpdateRouteRequest): Promise<Route>;\n  deleteRoute(id: string): Promise<void>;\n\n  // Stops\n  getStops(params?: ListQueryParams): Promise<Stop[]>;\n  getStopById(id: string): Promise<Stop | null>;\n  createStop(data: CreateStopRequest): Promise<Stop>;\n  updateStop(id: string, data: UpdateStopRequest): Promise<Stop>;\n  deleteStop(id: string): Promise<void>;\n\n  // Trips\n  getTrips(params?: ListQueryParams): Promise<Trip[]>;\n  getTripById(id: string): Promise<Trip | null>;\n  createTrip(data: CreateTripRequest): Promise<Trip>;\n  updateTrip(id: string, data: UpdateTripRequest): Promise<Trip>;\n  deleteTrip(id: string): Promise<void>;\n  assignVehicleToTrip(data: AssignVehicleRequest): Promise<Trip>;\n  assignDriverToTrip(data: AssignDriverRequest): Promise<Trip>;\n\n  // Dashboard\n  getDashboardStats(): Promise<DashboardStats>;\n\n  // Vehicle Models\n  getVehicleModels(params?: ListQueryParams): Promise<VehicleModel[]>;\n  searchVehicleModels(search: string): Promise<VehicleModel[]>;\n  getVehicleModelById(id: string): Promise<VehicleModel | null>;\n\n  // Authentication\n  generateUserOtp(username: string): Promise<{ otp: string }>;\n  loginUserWithOtp(username: string, otp: string): Promise<{ token: string; user: any }>;\n  createUser(data: { name: string; qid?: string; email: string; phone: string }): Promise<any>;\n  activateAccount(data: { activationCode: string; password: string; username: string }): Promise<any>;\n  loginWithPassword(username: string, password: string): Promise<{ token: string; user: any }>;\n  requestPasswordReset(email: string): Promise<{ message: string }>;\n  resetPassword(data: { resetCode: string; newPassword: string }): Promise<{ message: string }>;\n  getUsers(params?: { page?: number; limit?: number; search?: string }): Promise<User[]>;\n\n  // Service Schedules\n  getServiceSchedules(params?: ListQueryParams): Promise<ServiceSchedule[]>;\n  getServiceScheduleById(id: string): Promise<ServiceSchedule | null>;\n  createServiceSchedule(data: CreateServiceScheduleRequest): Promise<ServiceSchedule>;\n  updateServiceSchedule(id: string, data: UpdateServiceScheduleRequest): Promise<ServiceSchedule>;\n  deleteServiceSchedule(id: string): Promise<void>;\n\n  // Duties\n  getDuties(params?: ListQueryParams): Promise<Duty[]>;\n  getDutyById(id: string): Promise<Duty | null>;\n  createDuty(data: CreateDutyRequest): Promise<Duty>;\n  updateDuty(id: string, data: UpdateDutyRequest): Promise<Duty>;\n  deleteDuty(id: string): Promise<void>;\n  createBulkTripDuties(data: CreateBulkTripDutiesRequest): Promise<{ duties: Duty[]; tripDuties: TripDuty[] }>;\n}\n\n// Mock data adapter to match API interface\n// class MockDataAdapter implements IDataService {\n//   // Vehicles\n//   async getVehicles(): Promise<Vehicle[]> {\n//     return mockAPI.getVehicles();\n//   }\n\n//   async getVehicleById(id: string): Promise<Vehicle | null> {\n//     return mockAPI.getVehicleById(id);\n//   }\n\n//   async createVehicle(data: CreateVehicleRequest): Promise<Vehicle> {\n//     // Convert API request to mock data format\n//     const newVehicle: Vehicle = {\n//       id: Date.now().toString(),\n//       plateNumber: data.plateNumber,\n//       make: data.make,\n//       model: data.model,\n//       year: data.year,\n//       fleetNumber: data.fleetNumber,\n//       color: data.color,\n//       vin: data.vin,\n//     //   capacity: data.capacity || 0,\n//     //   fuelType: data.fuelType || 'gasoline',\n//       status: data.status || 'active',\n//       mileage: 0,\n//       lastMaintenance: new Date(),\n//       nextMaintenance: new Date(),\n//     //   currentLocation: { lat: 0, lng: 0 },\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     // In real implementation, this would update the mock data store\n//     return Promise.resolve(newVehicle);\n//   }\n\n//   async updateVehicle(id: string, data: UpdateVehicleRequest): Promise<Vehicle> {\n//     const existing = await this.getVehicleById(id);\n//     if (!existing) throw new Error('Vehicle not found');\n    \n//     const updated: Vehicle = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteVehicle(id: string): Promise<void> {\n//     // Mock implementation\n//     return Promise.resolve();\n//   }\n\n//   // Drivers\n//   async getDrivers(): Promise<Driver[]> {\n//     return mockAPI.getDrivers();\n//   }\n\n//   async getDriverById(id: string): Promise<Driver | null> {\n//     return mockAPI.getDriverById(id);\n//   }\n\n//   async createDriver(data: CreateDriverRequest): Promise<Driver> {\n//     const newDriver: Driver = {\n//       id: Date.now().toString(),\n//       firstName: data.firstName,\n//       lastName: data.lastName,\n//       email: data.email,\n//       phone: data.phone,\n//       employeeId: data.employeeId,\n//       licenseNumber: data.licenseNumber,\n//       licenseClass: data.licenseClass,\n//       licenseExpiry: new Date(data.licenseExpiry),\n//       dateOfBirth: new Date(data.dateOfBirth),\n//       address: data.address,\n//     //   status: data.status || 'active',\n//       rating: 0,\n//       totalTrips: 0,\n//       totalDistance: 0,\n//       joinDate: new Date(),\n//     //   currentLocation: { lat: 0, lng: 0 },\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newDriver);\n//   }\n\n//   async updateDriver(id: string, data: UpdateDriverRequest): Promise<Driver> {\n//     const existing = await this.getDriverById(id);\n//     if (!existing) throw new Error('Driver not found');\n    \n//     const updated: Driver = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteDriver(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   // Routes\n//   async getRoutes(): Promise<Route[]> {\n//     return mockAPI.getRoutes();\n//   }\n\n//   async getRouteById(id: string): Promise<Route | null> {\n//     return mockAPI.getRouteById(id);\n//   }\n\n//   async createRoute(data: CreateRouteRequest): Promise<Route> {\n//     const newRoute: Route = {\n//       id: Date.now().toString(),\n//       name: data.name,\n//       description: data.description,\n//       startLocation: data.startLocation,\n//       endLocation: data.endLocation,\n//       stops: data.stops,\n//       estimatedDistance: data.estimatedDistance,\n//       estimatedDuration: data.estimatedDuration,\n//       status: data.status || 'active',\n//       assignedVehicles: [],\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newRoute);\n//   }\n\n//   async updateRoute(id: string, data: UpdateRouteRequest): Promise<Route> {\n//     const existing = await this.getRouteById(id);\n//     if (!existing) throw new Error('Route not found');\n    \n//     const updated: Route = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteRoute(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   // Stops\n//   async getStops(): Promise<Stop[]> {\n//     return mockAPI.getStops();\n//   }\n\n//   async getStopById(id: string): Promise<Stop | null> {\n//     return mockAPI.getStopById(id);\n//   }\n\n//   async createStop(data: CreateStopRequest): Promise<Stop> {\n//     const newStop: Stop = {\n//       id: Date.now().toString(),\n//       name: data.name,\n//       code: data.code,\n//       location: data.location,\n//       address: data.address,\n//       description: data.description,\n//       type: data.type,\n//       isActive: data.isActive !== false,\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newStop);\n//   }\n\n//   async updateStop(id: string, data: UpdateStopRequest): Promise<Stop> {\n//     const existing = await this.getStopById(id);\n//     if (!existing) throw new Error('Stop not found');\n    \n//     const updated: Stop = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteStop(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   // Trips\n//   async getTrips(): Promise<Trip[]> {\n//     return mockAPI.getTrips();\n//   }\n\n//   async getTripById(id: string): Promise<Trip | null> {\n//     return mockAPI.getTripById(id);\n//   }\n\n//   async createTrip(data: CreateTripRequest): Promise<Trip> {\n//     const newTrip: Trip = {\n//       id: Date.now().toString(),\n//       code: data.code,\n//       routeId: data.routeId,\n//       scheduledStartTime: new Date(data.scheduledStartTime),\n//       scheduledEndTime: new Date(data.scheduledEndTime),\n//       status: 'planned',\n//       notes: data.notes,\n//       createdAt: new Date(),\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(newTrip);\n//   }\n\n//   async updateTrip(id: string, data: UpdateTripRequest): Promise<Trip> {\n//     const existing = await this.getTripById(id);\n//     if (!existing) throw new Error('Trip not found');\n    \n//     const updated: Trip = {\n//       ...existing,\n//       ...data,\n//       updatedAt: new Date()\n//     };\n//     return Promise.resolve(updated);\n//   }\n\n//   async deleteTrip(id: string): Promise<void> {\n//     return Promise.resolve();\n//   }\n\n//   async assignVehicleToTrip(data: AssignVehicleRequest): Promise<Trip> {\n//     return this.updateTrip(data.tripId, { vehicleId: data.vehicleId });\n//   }\n\n//   async assignDriverToTrip(data: AssignDriverRequest): Promise<Trip> {\n//     return this.updateTrip(data.tripId, { driverId: data.driverId });\n//   }\n\n//   // Dashboard\n//   async getDashboardStats(): Promise<DashboardStats> {\n//     return mockAPI.getDashboardStats();\n//   }\n// }\n\n// API data adapter\nclass ApiDataAdapter implements IDataService {\n  // Vehicles\n  async getVehicles(params?: ListQueryParams): Promise<Vehicle[]> {\n    return apiService.getVehicles(params);\n  }\n\n  async getVehicleById(id: string): Promise<Vehicle | null> {\n    try {\n      return await apiService.getVehicleById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async createVehicle(data: CreateVehicleRequest): Promise<Vehicle> {\n    return apiService.createVehicle(data);\n  }\n\n  async updateVehicle(id: string, data: UpdateVehicleRequest): Promise<Vehicle> {\n    return apiService.updateVehicle(id, data);\n  }\n\n  async deleteVehicle(id: string): Promise<void> {\n    return apiService.deleteVehicle(id);\n  }\n\n  // Drivers\n  async getDrivers(params?: ListQueryParams): Promise<Driver[]> {\n    return apiService.getDrivers(params);\n  }\n\n  async getDriverById(id: string): Promise<Driver | null> {\n    try {\n      return await apiService.getDriverById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async createDriver(data: CreateDriverRequest): Promise<Driver> {\n    return apiService.createDriver(data);\n  }\n\n  async updateDriver(id: string, data: CreateDriverRequest): Promise<Driver> {\n    return apiService.updateDriver(id, data);\n  }\n\n  async deleteDriver(id: string): Promise<void> {\n    return apiService.deleteDriver(id);\n  }\n\n  // Routes\n  async getRoutes(params?: ListQueryParams): Promise<Route[]> {\n    return apiService.getRoutes(params);\n  }\n\n  async getRouteById(id: string): Promise<Route | null> {\n    try {\n      return await apiService.getRouteById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async createRoute(data: CreateRouteRequest): Promise<Route> {\n    return apiService.createRoute(data);\n  }\n\n  async updateRoute(id: string, data: UpdateRouteRequest): Promise<Route> {\n    return apiService.updateRoute(id, data);\n  }\n\n  async deleteRoute(id: string): Promise<void> {\n    return apiService.deleteRoute(id);\n  }\n\n  // Stops\n  async getStops(params?: ListQueryParams): Promise<Stop[]> {\n    return apiService.getStops(params);\n  }\n\n  async getStopById(id: string): Promise<Stop | null> {\n    try {\n      return await apiService.getStopById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async createStop(data: CreateStopRequest): Promise<Stop> {\n    return apiService.createStop(data);\n  }\n\n  async updateStop(id: string, data: UpdateStopRequest): Promise<Stop> {\n    return apiService.updateStop(id, data);\n  }\n\n  async deleteStop(id: string): Promise<void> {\n    return apiService.deleteStop(id);\n  }\n\n  // Trips\n  async getTrips(params?: ListQueryParams): Promise<Trip[]> {\n    return apiService.getTrips(params);\n  }\n\n  async getTripById(id: string): Promise<Trip | null> {\n    try {\n      return await apiService.getTripById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async createTrip(data: CreateTripRequest): Promise<Trip> {\n    return apiService.createTrip(data);\n  }\n\n  async updateTrip(id: string, data: UpdateTripRequest): Promise<Trip> {\n    return apiService.updateTrip(id, data);\n  }\n\n  async deleteTrip(id: string): Promise<void> {\n    return apiService.deleteTrip(id);\n  }\n\n  async assignVehicleToTrip(data: AssignVehicleRequest): Promise<Trip> {\n    return apiService.assignVehicleToTrip(data);\n  }\n\n  async assignDriverToTrip(data: AssignDriverRequest): Promise<Trip> {\n    return apiService.assignDriverToTrip(data);\n  }\n\n  // Dashboard\n  async getDashboardStats(): Promise<DashboardStats> {\n    return apiService.getDashboardStats();\n  }\n\n  // Vehicle Models\n  async getVehicleModels(params?: ListQueryParams): Promise<VehicleModel[]> {\n    return apiService.getVehicleModels(params);\n  }\n\n  async searchVehicleModels(search: string): Promise<VehicleModel[]> {\n    return apiService.searchVehicleModels(search);\n  }\n\n  async getVehicleModelById(id: string): Promise<VehicleModel | null> {\n    try {\n      return await apiService.getVehicleModelById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  // Authentication\n  async generateUserOtp(username: string): Promise<{ otp: string }> {\n    return apiService.generateUserOtp(username);\n  }\n\n  async loginUserWithOtp(username: string, otp: string): Promise<{ token: string; user: any }> {\n    return apiService.loginUserWithOtp(username, otp);\n  }\n\n  async createUser(data: { name: string; phone: string; email: string; qid?: string }): Promise<any> {\n    return apiService.createUser(data);\n  }\n\n  async activateAccount(data: { activationCode: string; password: string; username: string }): Promise<any> {\n    return apiService.activateAccount(data);\n  }\n\n  async loginWithPassword(username: string, password: string): Promise<{ token: string; user: any }> {\n    return apiService.loginWithPassword(username, password);\n  }\n\n  async requestPasswordReset(email: string): Promise<{ message: string }> {\n    return apiService.requestPasswordReset(email);\n  }\n\n  async resetPassword(data: { resetCode: string; newPassword: string }): Promise<{ message: string }> {\n    return apiService.resetPassword(data);\n  }\n\n  async getUsers(params?: { page?: number; limit?: number; search?: string }): Promise<User[]> {\n    return apiService.getUsers(params);\n  }\n\n  // Service Schedules\n  async getServiceSchedules(params?: ListQueryParams): Promise<ServiceSchedule[]> {\n    return apiService.getServiceSchedules(params);\n  }\n\n  async getServiceScheduleById(id: string): Promise<ServiceSchedule | null> {\n    try {\n      return await apiService.getServiceScheduleById(id);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async createServiceSchedule(data: CreateServiceScheduleRequest): Promise<ServiceSchedule> {\n    return apiService.createServiceSchedule(data);\n  }\n\n  async updateServiceSchedule(id: string, data: UpdateServiceScheduleRequest): Promise<ServiceSchedule> {\n    return apiService.updateServiceSchedule(id, data);\n  }\n\n  async deleteServiceSchedule(id: string): Promise<void> {\n    return apiService.deleteServiceSchedule(id);\n  }\n}\n\n// Create the appropriate data service based on configuration\nexport const dataService: IDataService = new ApiDataAdapter();\n\n// Export types and classes for testing\nexport type { IDataService };\nexport { ApiDataAdapter };\n"],"mappings":"AACA,SAASA,UAAU,QAAQ,cAAc;AACzC;;AAmCA;;AAyEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,cAAc,CAAyB;EAC3C;EACA,MAAMC,WAAWA,CAACC,MAAwB,EAAsB;IAC9D,OAAOH,UAAU,C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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}