{"ast":null,"code":"var _jsxFileName = \"/home/mhmdal/Projects/moveo-master/moveo/src/pages/Routes/CreateRoute.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { FiSave, FiArrowLeft } from 'react-icons/fi';\nimport { theme } from '../../styles/theme';\nimport { Card, Button, Input } from '../../styles/GlobalStyles';\nimport RouteMap from '../../components/Map/RouteMap';\nimport { dataService } from '../../services/dataService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CreateRouteContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.xl};\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n_c = CreateRouteContainer;\nconst PageHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: ${theme.spacing.md};\n`;\n_c2 = PageHeader;\nconst BackButton = styled(Button)`\n  padding: ${theme.spacing.sm};\n`;\n_c3 = BackButton;\nconst PageTitle = styled.h1`\n  font-size: ${theme.typography.fontSize['3xl']};\n  font-weight: ${theme.typography.fontWeight.bold};\n  color: ${theme.colors.textPrimary};\n  margin: 0;\n`;\n_c4 = PageTitle;\nconst ContentLayout = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.lg};\n  height: calc(100vh - 120px);\n`;\n_c5 = ContentLayout;\nconst RouteInfoCard = styled(Card)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: ${theme.spacing.lg};\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\n  margin-bottom: ${theme.spacing.md};\n`;\n_c6 = RouteInfoCard;\nconst MapContainer = styled.div`\n  position: relative;\n  flex: 1;\n  min-height: 0;\n  border-radius: ${theme.borderRadius.lg};\n  overflow: hidden;\n  box-shadow: ${theme.shadows.lg};\n`;\n_c7 = MapContainer;\nconst RouteSummary = styled.div`\n  position: absolute;\n  bottom: 80px;\n  left: ${theme.spacing.lg};\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\n  border-radius: ${theme.borderRadius.lg};\n  backdrop-filter: blur(10px);\n  z-index: 1000;\n  min-width: 200px;\n  max-width: calc(100% - ${theme.spacing.xl} - 320px - ${theme.spacing.lg});\n  max-height: calc(100% - ${theme.spacing.xl} * 2);\n  overflow-y: auto;\n`;\n_c8 = RouteSummary;\nconst SummaryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: ${theme.spacing.xs} 0;\n  font-size: ${theme.typography.fontSize.sm};\n`;\n_c9 = SummaryItem;\nconst SummaryLabel = styled.span`\n  opacity: 0.8;\n`;\n_c0 = SummaryLabel;\nconst SummaryValue = styled.span`\n  font-weight: ${theme.typography.fontWeight.semibold};\n`;\n_c1 = SummaryValue;\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.sm};\n`;\n_c10 = FormGroup;\nconst Label = styled.label`\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.medium};\n  color: ${theme.colors.textPrimary};\n`;\n_c11 = Label;\nconst RequiredIndicator = styled.span`\n  color: ${theme.colors.error};\n`;\n_c12 = RequiredIndicator;\nconst SectionTitle = styled.h3`\n  font-size: ${theme.typography.fontSize.lg};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  color: ${theme.colors.textPrimary};\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: ${theme.spacing.sm};\n`;\nconst ActionButtons = styled.div`\n  display: flex;\n  gap: ${theme.spacing.md};\n  justify-content: flex-end;\n  padding-top: ${theme.spacing.lg};\n  border-top: 1px solid ${theme.colors.border};\n`;\n_c13 = ActionButtons;\nconst EmptyState = styled.div`\n  padding: ${theme.spacing.xl};\n  color: ${theme.colors.textMuted};\n`;\nconst MapModeButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: ${theme.spacing.sm};\n  padding: ${theme.spacing.sm} ${theme.spacing.md};\n  background: ${({\n  $active\n}) => $active ? theme.colors.primary : theme.colors.surface};\n  color: ${({\n  $active\n}) => $active ? 'white' : theme.colors.textPrimary};\n  border: 2px solid ${({\n  $active\n}) => $active ? theme.colors.primary : theme.colors.border};\n  border-radius: ${theme.borderRadius.md};\n  cursor: pointer;\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  transition: all 0.2s ease-in-out;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ${theme.shadows.md};\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: ${({\n  $isOpen\n}) => $isOpen ? 'flex' : 'none'};\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n`;\n_c14 = Modal;\nconst ModalContent = styled.div`\n  background: ${theme.colors.card};\n  border-radius: ${theme.borderRadius.lg};\n  padding: ${theme.spacing.xl};\n  max-width: 400px;\n  width: 90%;\n  box-shadow: ${theme.shadows.xl};\n`;\n_c15 = ModalContent;\nconst ModalTitle = styled.h2`\n  margin: 0 0 ${theme.spacing.lg} 0;\n  font-size: ${theme.typography.fontSize.xl};\n  font-weight: ${theme.typography.fontWeight.bold};\n  color: ${theme.colors.textPrimary};\n`;\n_c16 = ModalTitle;\nconst ModalFormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.md};\n  margin-bottom: ${theme.spacing.lg};\n`;\n_c17 = ModalFormGroup;\nconst ModalLabel = styled.label`\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  color: ${theme.colors.textSecondary};\n`;\n_c18 = ModalLabel;\nconst ModalInput = styled.input`\n  padding: ${theme.spacing.md};\n  background: ${theme.colors.surface};\n  border: 1px solid ${theme.colors.border};\n  border-radius: ${theme.borderRadius.md};\n  color: ${theme.colors.textPrimary};\n  font-size: ${theme.typography.fontSize.base};\n  \n  &:focus {\n    outline: none;\n    border-color: ${theme.colors.primary};\n    box-shadow: 0 0 0 3px ${theme.colors.primary}20;\n  }\n`;\n_c19 = ModalInput;\nconst ModalCoords = styled.div`\n  padding: ${theme.spacing.md};\n  background: ${theme.colors.surface};\n  border-radius: ${theme.borderRadius.md};\n  font-size: ${theme.typography.fontSize.sm};\n  color: ${theme.colors.textSecondary};\n  margin-bottom: ${theme.spacing.lg};\n`;\n_c20 = ModalCoords;\nconst ModalButtons = styled.div`\n  display: flex;\n  gap: ${theme.spacing.md};\n  justify-content: flex-end;\n`;\n_c21 = ModalButtons;\nconst ModalButton = styled.button`\n  padding: ${theme.spacing.sm} ${theme.spacing.lg};\n  border: none;\n  border-radius: ${theme.borderRadius.md};\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  background: ${({\n  $variant\n}) => $variant === 'primary' ? theme.colors.primary : theme.colors.surface};\n  color: ${({\n  $variant\n}) => $variant === 'primary' ? 'white' : theme.colors.textPrimary};\n  border: 1px solid ${({\n  $variant\n}) => $variant === 'primary' ? theme.colors.primary : theme.colors.border};\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ${theme.shadows.md};\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c22 = ModalButton;\nconst CreateRoute = () => {\n  _s();\n  var _selectedStops$, _selectedStops;\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    name: '',\n    code: '',\n    description: ''\n  });\n  const [availableStops, setAvailableStops] = useState([]);\n  const [selectedStops, setSelectedStops] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredStops, setFilteredStops] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showAllStops, setShowAllStops] = useState(true);\n  const [isManualAddMode, setIsManualAddMode] = useState(false);\n  const [manualStopCounter, setManualStopCounter] = useState(1);\n  const [isManualStopModalOpen, setIsManualStopModalOpen] = useState(false);\n  const [tempManualStop, setTempManualStop] = useState(null);\n  const mapContainerRef = React.useRef(null);\n  useEffect(() => {\n    const loadStops = async () => {\n      try {\n        const stops = await dataService.getStops();\n        setAvailableStops(stops);\n        setFilteredStops(stops);\n      } catch (error) {\n        console.error('Error loading stops:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadStops();\n  }, []);\n\n  // Handle map clicks for manual stop addition\n  useEffect(() => {\n    if (!isManualAddMode || !mapContainerRef.current) return;\n    const mapElement = mapContainerRef.current.querySelector('.leaflet-container');\n    if (!mapElement) {\n      console.log('âŒ Leaflet container not found');\n      return;\n    }\n    const handleMapContainerClick = e => {\n      const mouseEvent = e;\n      console.log('ðŸ–±ï¸ Map container clicked, checking if it\\'s the canvas...');\n\n      // Get the leaflet map instance\n      const leafletMap = mapElement._leaflet_map;\n      if (!leafletMap) {\n        console.log('âŒ Leaflet map instance not found');\n        return;\n      }\n\n      // Convert pixel coordinates to lat/lng\n      const rect = mapElement.getBoundingClientRect();\n      const x = mouseEvent.clientX - rect.left;\n      const y = mouseEvent.clientY - rect.top;\n      console.log('ðŸ“ Pixel coords:', {\n        x,\n        y\n      });\n      const latlng = leafletMap.containerPointToLatLng([x, y]);\n      console.log('ðŸŽ¯ Converted to lat/lng:', latlng);\n      if (latlng && latlng.lat !== undefined && latlng.lng !== undefined) {\n        handleMapClick(latlng.lat, latlng.lng);\n      }\n    };\n    console.log('âœ… Adding click handler to leaflet container');\n    mapElement.addEventListener('click', handleMapContainerClick);\n    return () => {\n      console.log('âŒ Removing click handler');\n      mapElement.removeEventListener('click', handleMapContainerClick);\n    };\n  }, [isManualAddMode]);\n  useEffect(() => {\n    const filtered = availableStops.filter(stop => stop.name.toLowerCase().includes(searchTerm.toLowerCase()) || stop.code.toLowerCase().includes(searchTerm.toLowerCase()));\n    setFilteredStops(filtered);\n  }, [availableStops, searchTerm]);\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleAddStop = stop => {\n    if (!selectedStops.find(s => s.id === stop.id)) {\n      setSelectedStops(prev => [...prev, stop]);\n    }\n  };\n  const handleMapStopClick = stop => {\n    handleAddStop(stop);\n  };\n  const handleFitRoute = () => {\n    // This will trigger the MapBoundsHandler in RouteMap to fit the route\n    // We can force a re-render by updating a dummy state\n    setSelectedStops(prev => [...prev]);\n  };\n  const handleToggleShowAllStops = () => {\n    setShowAllStops(prev => !prev);\n  };\n  const handleRemoveStop = stopId => {\n    setSelectedStops(prev => prev.filter(s => s.id !== stopId));\n  };\n  const handleMoveStop = (fromIndex, toIndex) => {\n    const newStops = [...selectedStops];\n    const [movedStop] = newStops.splice(fromIndex, 1);\n    newStops.splice(toIndex, 0, movedStop);\n    setSelectedStops(newStops);\n  };\n  const handleMapClick = (lat, lon) => {\n    if (!isManualAddMode) return;\n\n    // Create a temporary manual stop and show modal\n    const tempStop = {\n      id: `manual-${manualStopCounter}`,\n      name: `Manual Stop ${manualStopCounter}`,\n      code: `MS${manualStopCounter}`,\n      location: {\n        lat: parseFloat(lat.toFixed(6)),\n        lon: parseFloat(lon.toFixed(6))\n      }\n    };\n    setTempManualStop(tempStop);\n    setIsManualStopModalOpen(true);\n  };\n  const handleManualStopModalChange = (field, value) => {\n    if (!tempManualStop) return;\n    setTempManualStop(prev => prev ? {\n      ...prev,\n      [field]: value\n    } : null);\n  };\n  const handleConfirmManualStop = () => {\n    if (!tempManualStop || !tempManualStop.name || !tempManualStop.code) {\n      alert('Please enter both name and code for the stop.');\n      return;\n    }\n\n    // Add to selected stops\n    setSelectedStops(prev => [...prev, tempManualStop]);\n    setManualStopCounter(prev => prev + 1);\n\n    // Close modal and reset\n    setIsManualStopModalOpen(false);\n    setTempManualStop(null);\n  };\n  const handleCancelManualStop = () => {\n    setIsManualStopModalOpen(false);\n    setTempManualStop(null);\n  };\n  const handleToggleManualMode = () => {\n    setIsManualAddMode(prev => !prev);\n    setTempManualStop(null);\n    setIsManualStopModalOpen(false);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.name || !formData.code) {\n      alert('Please fill in all required fields and select at least 2 stops.');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const newRoute = {\n        name: formData.name,\n        // code: formData.code,\n        code: formData.code,\n        stops: selectedStops.map((stop, idx) => ({\n          ...stop,\n          order: idx\n        }))\n      };\n      console.log('Creating route:', newRoute);\n      await dataService.createRoute(newRoute);\n      navigate('/routes');\n    } catch (error) {\n      console.error('Error creating route:', error);\n      alert('Error creating route. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleCancel = () => {\n    navigate('/routes');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading stops...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(CreateRouteContainer, {\n    className: \"fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      children: [/*#__PURE__*/_jsxDEV(BackButton, {\n        variant: \"secondary\",\n        onClick: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(FiArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PageTitle, {\n        children: \"Create New Route\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContentLayout, {\n      children: [/*#__PURE__*/_jsxDEV(RouteInfoCard, {\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: [\"Route Name \", /*#__PURE__*/_jsxDEV(RequiredIndicator, {\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"Enter route name\",\n            value: formData.name,\n            onChange: e => handleInputChange('name', e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: [\"Route Code \", /*#__PURE__*/_jsxDEV(RequiredIndicator, {\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"Enter route code (e.g., RT001)\",\n            value: formData.code,\n            onChange: e => handleInputChange('code', e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n        ref: mapContainerRef,\n        children: [/*#__PURE__*/_jsxDEV(RouteMap, {\n          stops: availableStops,\n          selectedStops: selectedStops,\n          showRoute: true,\n          height: \"100%\",\n          onStopClick: handleMapStopClick,\n          onFitRoute: handleFitRoute,\n          showAllStops: showAllStops,\n          onToggleShowAllStops: handleToggleShowAllStops,\n          searchTerm: searchTerm,\n          onSearchChange: setSearchTerm,\n          filteredStops: filteredStops,\n          onAddStop: handleAddStop,\n          onRemoveStop: handleRemoveStop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RouteSummary, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryItem, {\n            children: [/*#__PURE__*/_jsxDEV(SummaryLabel, {\n              children: \"Stops:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SummaryValue, {\n              children: selectedStops.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this), selectedStops.length >= 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(SummaryItem, {\n              children: [/*#__PURE__*/_jsxDEV(SummaryLabel, {\n                children: \"Start:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SummaryValue, {\n                children: (_selectedStops$ = selectedStops[0]) === null || _selectedStops$ === void 0 ? void 0 : _selectedStops$.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n              children: [/*#__PURE__*/_jsxDEV(SummaryLabel, {\n                children: \"End:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SummaryValue, {\n                children: (_selectedStops = selectedStops[selectedStops.length - 1]) === null || _selectedStops === void 0 ? void 0 : _selectedStops.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(ActionButtons, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            variant: \"secondary\",\n            onClick: handleCancel,\n            disabled: isSubmitting,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"primary\",\n            disabled: isSubmitting || selectedStops.length < 2,\n            children: [/*#__PURE__*/_jsxDEV(FiSave, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, this), isSubmitting ? 'Creating...' : 'Create Route']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      $isOpen: isManualStopModalOpen,\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: \"Add Manual Stop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(ModalLabel, {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalInput, {\n            type: \"text\",\n            placeholder: \"Enter stop name\",\n            value: (tempManualStop === null || tempManualStop === void 0 ? void 0 : tempManualStop.name) || '',\n            onChange: e => handleManualStopModalChange('name', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(ModalLabel, {\n            children: \"Code:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalInput, {\n            type: \"text\",\n            placeholder: \"Enter stop code\",\n            value: (tempManualStop === null || tempManualStop === void 0 ? void 0 : tempManualStop.code) || '',\n            onChange: e => handleManualStopModalChange('code', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalCoords, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Coordinates: Lat: \", tempManualStop === null || tempManualStop === void 0 ? void 0 : tempManualStop.location.lat.toFixed(6), \", Lon: \", tempManualStop === null || tempManualStop === void 0 ? void 0 : tempManualStop.location.lon.toFixed(6)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalButtons, {\n          children: [/*#__PURE__*/_jsxDEV(ModalButton, {\n            $variant: \"secondary\",\n            onClick: handleCancelManualStop,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalButton, {\n            $variant: \"primary\",\n            onClick: handleConfirmManualStop,\n            children: \"Add Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 484,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateRoute, \"5YAqIdPIgemsRDiER0/IgTxZ0WI=\", false, function () {\n  return [useNavigate];\n});\n_c23 = CreateRoute;\nexport default CreateRoute;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23;\n$RefreshReg$(_c, \"CreateRouteContainer\");\n$RefreshReg$(_c2, \"PageHeader\");\n$RefreshReg$(_c3, \"BackButton\");\n$RefreshReg$(_c4, \"PageTitle\");\n$RefreshReg$(_c5, \"ContentLayout\");\n$RefreshReg$(_c6, \"RouteInfoCard\");\n$RefreshReg$(_c7, \"MapContainer\");\n$RefreshReg$(_c8, \"RouteSummary\");\n$RefreshReg$(_c9, \"SummaryItem\");\n$RefreshReg$(_c0, \"SummaryLabel\");\n$RefreshReg$(_c1, \"SummaryValue\");\n$RefreshReg$(_c10, \"FormGroup\");\n$RefreshReg$(_c11, \"Label\");\n$RefreshReg$(_c12, \"RequiredIndicator\");\n$RefreshReg$(_c13, \"ActionButtons\");\n$RefreshReg$(_c14, \"Modal\");\n$RefreshReg$(_c15, \"ModalContent\");\n$RefreshReg$(_c16, \"ModalTitle\");\n$RefreshReg$(_c17, \"ModalFormGroup\");\n$RefreshReg$(_c18, \"ModalLabel\");\n$RefreshReg$(_c19, \"ModalInput\");\n$RefreshReg$(_c20, \"ModalCoords\");\n$RefreshReg$(_c21, \"ModalButtons\");\n$RefreshReg$(_c22, \"ModalButton\");\n$RefreshReg$(_c23, \"CreateRoute\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","styled","FiSave","FiArrowLeft","theme","Card","Button","Input","RouteMap","dataService","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateRouteContainer","div","spacing","xl","_c","PageHeader","md","_c2","BackButton","sm","_c3","PageTitle","h1","typography","fontSize","fontWeight","bold","colors","textPrimary","_c4","ContentLayout","lg","_c5","RouteInfoCard","_c6","MapContainer","borderRadius","shadows","_c7","RouteSummary","_c8","SummaryItem","xs","_c9","SummaryLabel","span","_c0","SummaryValue","semibold","_c1","FormGroup","_c10","Label","label","medium","_c11","RequiredIndicator","error","_c12","SectionTitle","h3","ActionButtons","border","_c13","EmptyState","textMuted","MapModeButton","button","$active","primary","surface","Modal","$isOpen","_c14","ModalContent","card","_c15","ModalTitle","h2","_c16","ModalFormGroup","_c17","ModalLabel","textSecondary","_c18","ModalInput","input","base","_c19","ModalCoords","_c20","ModalButtons","_c21","ModalButton","$variant","_c22","CreateRoute","_s","_selectedStops$","_selectedStops","navigate","formData","setFormData","name","code","description","availableStops","setAvailableStops","selectedStops","setSelectedStops","searchTerm","setSearchTerm","filteredStops","setFilteredStops","loading","setLoading","isSubmitting","setIsSubmitting","showAllStops","setShowAllStops","isManualAddMode","setIsManualAddMode","manualStopCounter","setManualStopCounter","isManualStopModalOpen","setIsManualStopModalOpen","tempManualStop","setTempManualStop","mapContainerRef","useRef","loadStops","stops","getStops","console","current","mapElement","querySelector","log","handleMapContainerClick","e","mouseEvent","leafletMap","_leaflet_map","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","latlng","containerPointToLatLng","lat","undefined","lng","handleMapClick","addEventListener","removeEventListener","filtered","filter","stop","toLowerCase","includes","handleInputChange","field","value","prev","handleAddStop","find","s","id","handleMapStopClick","handleFitRoute","handleToggleShowAllStops","handleRemoveStop","stopId","handleMoveStop","fromIndex","toIndex","newStops","movedStop","splice","lon","tempStop","location","parseFloat","toFixed","handleManualStopModalChange","handleConfirmManualStop","alert","handleCancelManualStop","handleToggleManualMode","handleSubmit","preventDefault","newRoute","map","idx","order","createRoute","handleCancel","children","fileName","_jsxFileName","lineNumber","columnNumber","className","variant","onClick","type","placeholder","onChange","target","required","ref","showRoute","height","onStopClick","onFitRoute","onToggleShowAllStops","onSearchChange","onAddStop","onRemoveStop","length","onSubmit","disabled","_c23","$RefreshReg$"],"sources":["/home/mhmdal/Projects/moveo-master/moveo/src/pages/Routes/CreateRoute.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { \n  FiMap, \n  FiSave, \n  FiArrowLeft, \n  FiPlus, \n  FiX, \n  FiSearch,\n  FiMove,\n  FiMapPin\n} from 'react-icons/fi';\nimport { theme } from '../../styles/theme';\nimport { Card, Button, Input, Select } from '../../styles/GlobalStyles';\nimport RouteMap from '../../components/Map/RouteMap';\nimport { Route, Stop } from '../../types';\nimport { dataService } from '../../services/dataService';\n\nconst CreateRouteContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.xl};\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst PageHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: ${theme.spacing.md};\n`;\n\nconst BackButton = styled(Button)`\n  padding: ${theme.spacing.sm};\n`;\n\nconst PageTitle = styled.h1`\n  font-size: ${theme.typography.fontSize['3xl']};\n  font-weight: ${theme.typography.fontWeight.bold};\n  color: ${theme.colors.textPrimary};\n  margin: 0;\n`;\n\nconst ContentLayout = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.lg};\n  height: calc(100vh - 120px);\n`;\n\nconst RouteInfoCard = styled(Card)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: ${theme.spacing.lg};\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\n  margin-bottom: ${theme.spacing.md};\n`;\n\nconst MapContainer = styled.div`\n  position: relative;\n  flex: 1;\n  min-height: 0;\n  border-radius: ${theme.borderRadius.lg};\n  overflow: hidden;\n  box-shadow: ${theme.shadows.lg};\n`;\n\n\nconst RouteSummary = styled.div`\n  position: absolute;\n  bottom: 80px;\n  left: ${theme.spacing.lg};\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\n  border-radius: ${theme.borderRadius.lg};\n  backdrop-filter: blur(10px);\n  z-index: 1000;\n  min-width: 200px;\n  max-width: calc(100% - ${theme.spacing.xl} - 320px - ${theme.spacing.lg});\n  max-height: calc(100% - ${theme.spacing.xl} * 2);\n  overflow-y: auto;\n`;\n\nconst SummaryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: ${theme.spacing.xs} 0;\n  font-size: ${theme.typography.fontSize.sm};\n`;\n\nconst SummaryLabel = styled.span`\n  opacity: 0.8;\n`;\n\nconst SummaryValue = styled.span`\n  font-weight: ${theme.typography.fontWeight.semibold};\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.sm};\n`;\n\nconst Label = styled.label`\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.medium};\n  color: ${theme.colors.textPrimary};\n`;\n\nconst RequiredIndicator = styled.span`\n  color: ${theme.colors.error};\n`;\n\nconst SectionTitle = styled.h3`\n  font-size: ${theme.typography.fontSize.lg};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  color: ${theme.colors.textPrimary};\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: ${theme.spacing.sm};\n`;\n\n\nconst ActionButtons = styled.div`\n  display: flex;\n  gap: ${theme.spacing.md};\n  justify-content: flex-end;\n  padding-top: ${theme.spacing.lg};\n  border-top: 1px solid ${theme.colors.border};\n`;\n\nconst EmptyState = styled.div`\n  padding: ${theme.spacing.xl};\n  color: ${theme.colors.textMuted};\n`;\n\nconst MapModeButton = styled.button<{ $active: boolean }>`\n  display: flex;\n  align-items: center;\n  gap: ${theme.spacing.sm};\n  padding: ${theme.spacing.sm} ${theme.spacing.md};\n  background: ${({ $active }) => $active ? theme.colors.primary : theme.colors.surface};\n  color: ${({ $active }) => $active ? 'white' : theme.colors.textPrimary};\n  border: 2px solid ${({ $active }) => $active ? theme.colors.primary : theme.colors.border};\n  border-radius: ${theme.borderRadius.md};\n  cursor: pointer;\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  transition: all 0.2s ease-in-out;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ${theme.shadows.md};\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst Modal = styled.div<{ $isOpen: boolean }>`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: ${({ $isOpen }) => $isOpen ? 'flex' : 'none'};\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n`;\n\nconst ModalContent = styled.div`\n  background: ${theme.colors.card};\n  border-radius: ${theme.borderRadius.lg};\n  padding: ${theme.spacing.xl};\n  max-width: 400px;\n  width: 90%;\n  box-shadow: ${theme.shadows.xl};\n`;\n\nconst ModalTitle = styled.h2`\n  margin: 0 0 ${theme.spacing.lg} 0;\n  font-size: ${theme.typography.fontSize.xl};\n  font-weight: ${theme.typography.fontWeight.bold};\n  color: ${theme.colors.textPrimary};\n`;\n\nconst ModalFormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${theme.spacing.md};\n  margin-bottom: ${theme.spacing.lg};\n`;\n\nconst ModalLabel = styled.label`\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  color: ${theme.colors.textSecondary};\n`;\n\nconst ModalInput = styled.input`\n  padding: ${theme.spacing.md};\n  background: ${theme.colors.surface};\n  border: 1px solid ${theme.colors.border};\n  border-radius: ${theme.borderRadius.md};\n  color: ${theme.colors.textPrimary};\n  font-size: ${theme.typography.fontSize.base};\n  \n  &:focus {\n    outline: none;\n    border-color: ${theme.colors.primary};\n    box-shadow: 0 0 0 3px ${theme.colors.primary}20;\n  }\n`;\n\nconst ModalCoords = styled.div`\n  padding: ${theme.spacing.md};\n  background: ${theme.colors.surface};\n  border-radius: ${theme.borderRadius.md};\n  font-size: ${theme.typography.fontSize.sm};\n  color: ${theme.colors.textSecondary};\n  margin-bottom: ${theme.spacing.lg};\n`;\n\nconst ModalButtons = styled.div`\n  display: flex;\n  gap: ${theme.spacing.md};\n  justify-content: flex-end;\n`;\n\nconst ModalButton = styled.button<{ $variant?: 'primary' | 'secondary' }>`\n  padding: ${theme.spacing.sm} ${theme.spacing.lg};\n  border: none;\n  border-radius: ${theme.borderRadius.md};\n  font-size: ${theme.typography.fontSize.sm};\n  font-weight: ${theme.typography.fontWeight.semibold};\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  background: ${({ $variant }) => $variant === 'primary' ? theme.colors.primary : theme.colors.surface};\n  color: ${({ $variant }) => $variant === 'primary' ? 'white' : theme.colors.textPrimary};\n  border: 1px solid ${({ $variant }) => $variant === 'primary' ? theme.colors.primary : theme.colors.border};\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ${theme.shadows.md};\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst CreateRoute: React.FC = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    name: '',\n    code: '',\n    description: ''\n  });\n  const [availableStops, setAvailableStops] = useState<Stop[]>([]);\n  const [selectedStops, setSelectedStops] = useState<Stop[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredStops, setFilteredStops] = useState<Stop[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showAllStops, setShowAllStops] = useState(true);\n  const [isManualAddMode, setIsManualAddMode] = useState(false);\n  const [manualStopCounter, setManualStopCounter] = useState(1);\n  const [isManualStopModalOpen, setIsManualStopModalOpen] = useState(false);\n  const [tempManualStop, setTempManualStop] = useState<Stop | null>(null);\n  const mapContainerRef = React.useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const loadStops = async () => {\n      try {\n        const stops = await dataService.getStops();\n        setAvailableStops(stops);\n        setFilteredStops(stops);\n      } catch (error) {\n        console.error('Error loading stops:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadStops();\n  }, []);\n\n  // Handle map clicks for manual stop addition\n  useEffect(() => {\n    if (!isManualAddMode || !mapContainerRef.current) return;\n\n    const mapElement = mapContainerRef.current.querySelector('.leaflet-container');\n    if (!mapElement) {\n      console.log('âŒ Leaflet container not found');\n      return;\n    }\n\n    const handleMapContainerClick = (e: Event) => {\n      const mouseEvent = e as MouseEvent;\n      console.log('ðŸ–±ï¸ Map container clicked, checking if it\\'s the canvas...');\n      \n      // Get the leaflet map instance\n      const leafletMap = (mapElement as any)._leaflet_map;\n      if (!leafletMap) {\n        console.log('âŒ Leaflet map instance not found');\n        return;\n      }\n\n      // Convert pixel coordinates to lat/lng\n      const rect = mapElement.getBoundingClientRect();\n      const x = mouseEvent.clientX - rect.left;\n      const y = mouseEvent.clientY - rect.top;\n\n      console.log('ðŸ“ Pixel coords:', { x, y });\n\n      const latlng = leafletMap.containerPointToLatLng([x, y]);\n      console.log('ðŸŽ¯ Converted to lat/lng:', latlng);\n\n      if (latlng && latlng.lat !== undefined && latlng.lng !== undefined) {\n        handleMapClick(latlng.lat, latlng.lng);\n      }\n    };\n\n    console.log('âœ… Adding click handler to leaflet container');\n    mapElement.addEventListener('click', handleMapContainerClick as EventListener);\n\n    return () => {\n      console.log('âŒ Removing click handler');\n      mapElement.removeEventListener('click', handleMapContainerClick as EventListener);\n    };\n  }, [isManualAddMode]);\n\n  useEffect(() => {\n    const filtered = availableStops.filter(stop =>\n      stop.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      stop.code.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n    setFilteredStops(filtered);\n  }, [availableStops, searchTerm]);\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleAddStop = (stop: Stop) => {\n    if (!selectedStops.find(s => s.id === stop.id)) {\n      setSelectedStops(prev => [...prev, stop]);\n    }\n  };\n\n  const handleMapStopClick = (stop: Stop) => {\n    handleAddStop(stop);\n  };\n\n\n  const handleFitRoute = () => {\n    // This will trigger the MapBoundsHandler in RouteMap to fit the route\n    // We can force a re-render by updating a dummy state\n    setSelectedStops(prev => [...prev]);\n  };\n\n  const handleToggleShowAllStops = () => {\n    setShowAllStops(prev => !prev);\n  };\n\n  const handleRemoveStop = (stopId: string) => {\n    setSelectedStops(prev => prev.filter(s => s.id !== stopId));\n  };\n\n  const handleMoveStop = (fromIndex: number, toIndex: number) => {\n    const newStops = [...selectedStops];\n    const [movedStop] = newStops.splice(fromIndex, 1);\n    newStops.splice(toIndex, 0, movedStop);\n    setSelectedStops(newStops);\n  };\n\n  const handleMapClick = (lat: number, lon: number) => {\n    if (!isManualAddMode) return;\n\n    // Create a temporary manual stop and show modal\n    const tempStop: Stop = {\n      id: `manual-${manualStopCounter}`,\n      name: `Manual Stop ${manualStopCounter}`,\n      code: `MS${manualStopCounter}`,\n      location: {\n        lat: parseFloat(lat.toFixed(6)),\n        lon: parseFloat(lon.toFixed(6))\n      }\n    };\n\n    setTempManualStop(tempStop);\n    setIsManualStopModalOpen(true);\n  };\n\n  const handleManualStopModalChange = (field: string, value: string) => {\n    if (!tempManualStop) return;\n    \n    setTempManualStop(prev => \n      prev ? { ...prev, [field]: value } : null\n    );\n  };\n\n  const handleConfirmManualStop = () => {\n    if (!tempManualStop || !tempManualStop.name || !tempManualStop.code) {\n      alert('Please enter both name and code for the stop.');\n      return;\n    }\n\n    // Add to selected stops\n    setSelectedStops(prev => [...prev, tempManualStop]);\n    setManualStopCounter(prev => prev + 1);\n    \n    // Close modal and reset\n    setIsManualStopModalOpen(false);\n    setTempManualStop(null);\n  };\n\n  const handleCancelManualStop = () => {\n    setIsManualStopModalOpen(false);\n    setTempManualStop(null);\n  };\n\n  const handleToggleManualMode = () => {\n    setIsManualAddMode(prev => !prev);\n    setTempManualStop(null);\n    setIsManualStopModalOpen(false);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name || !formData.code) {\n      alert('Please fill in all required fields and select at least 2 stops.');\n      return;\n    }\n\n    setIsSubmitting(true);\n    \n    try {\n      const newRoute = {\n        name: formData.name,\n        // code: formData.code,\n        code: formData.code,\n        stops: selectedStops.map((stop, idx) => ({...stop, order: idx}))\n      };\n\n      console.log('Creating route:', newRoute);\n      \n      await dataService.createRoute(newRoute);\n\n      \n      navigate('/routes');\n    } catch (error) {\n      console.error('Error creating route:', error);\n      alert('Error creating route. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate('/routes');\n  };\n\n  if (loading) {\n    return <div>Loading stops...</div>;\n  }\n\n  return (\n    <CreateRouteContainer className=\"fade-in\">\n      <PageHeader>\n        <BackButton variant=\"secondary\" onClick={handleCancel}>\n          <FiArrowLeft />\n        </BackButton>\n        <PageTitle>Create New Route</PageTitle>\n      </PageHeader>\n\n      <ContentLayout>\n        {/* Route Information - Compact Header */}\n        <RouteInfoCard>\n          <FormGroup>\n            <Label>\n              Route Name <RequiredIndicator>*</RequiredIndicator>\n            </Label>\n            <Input\n              type=\"text\"\n              placeholder=\"Enter route name\"\n              value={formData.name}\n              onChange={(e) => handleInputChange('name', e.target.value)}\n              required\n            />\n          </FormGroup>\n          \n          <FormGroup>\n            <Label>\n              Route Code <RequiredIndicator>*</RequiredIndicator>\n            </Label>\n            <Input\n              type=\"text\"\n              placeholder=\"Enter route code (e.g., RT001)\"\n              value={formData.code}\n              onChange={(e) => handleInputChange('code', e.target.value)}\n              required\n            />\n          </FormGroup>\n        </RouteInfoCard>\n\n        {/* Map-First Layout */}\n        <MapContainer ref={mapContainerRef}>\n          <RouteMap\n            stops={availableStops}\n            selectedStops={selectedStops}\n            showRoute={true}\n            height=\"100%\"\n            onStopClick={handleMapStopClick}\n            onFitRoute={handleFitRoute}\n            showAllStops={showAllStops}\n            onToggleShowAllStops={handleToggleShowAllStops}\n            searchTerm={searchTerm}\n            onSearchChange={setSearchTerm}\n            filteredStops={filteredStops}\n            onAddStop={handleAddStop}\n            onRemoveStop={handleRemoveStop}\n          />\n          \n          {/* Route Summary */}\n          <RouteSummary>\n            <SummaryItem>\n              <SummaryLabel>Stops:</SummaryLabel>\n              <SummaryValue>{selectedStops.length}</SummaryValue>\n            </SummaryItem>\n            {selectedStops.length >= 2 && (\n              <>\n                <SummaryItem>\n                  <SummaryLabel>Start:</SummaryLabel>\n                  <SummaryValue>{selectedStops[0]?.name}</SummaryValue>\n                </SummaryItem>\n                <SummaryItem>\n                  <SummaryLabel>End:</SummaryLabel>\n                  <SummaryValue>{selectedStops[selectedStops.length - 1]?.name}</SummaryValue>\n                </SummaryItem>\n              </>\n            )}\n          </RouteSummary>\n        </MapContainer>\n\n        {/* Action Buttons */}\n        <form onSubmit={handleSubmit}>\n          <ActionButtons>\n            <Button \n              type=\"button\" \n              variant=\"secondary\" \n              onClick={handleCancel}\n              disabled={isSubmitting}\n            >\n              Cancel\n            </Button>\n            <Button \n              type=\"submit\" \n              variant=\"primary\"\n              disabled={isSubmitting || selectedStops.length < 2}\n            >\n              <FiSave />\n              {isSubmitting ? 'Creating...' : 'Create Route'}\n            </Button>\n          </ActionButtons>\n        </form>\n      </ContentLayout>\n\n      {/* Manual Stop Modal */}\n      <Modal $isOpen={isManualStopModalOpen}>\n        <ModalContent>\n          <ModalTitle>Add Manual Stop</ModalTitle>\n          <ModalFormGroup>\n            <ModalLabel>Name:</ModalLabel>\n            <ModalInput\n              type=\"text\"\n              placeholder=\"Enter stop name\"\n              value={tempManualStop?.name || ''}\n              onChange={(e) => handleManualStopModalChange('name', e.target.value)}\n            />\n          </ModalFormGroup>\n          <ModalFormGroup>\n            <ModalLabel>Code:</ModalLabel>\n            <ModalInput\n              type=\"text\"\n              placeholder=\"Enter stop code\"\n              value={tempManualStop?.code || ''}\n              onChange={(e) => handleManualStopModalChange('code', e.target.value)}\n            />\n          </ModalFormGroup>\n          <ModalCoords>\n            <p>Coordinates: Lat: {tempManualStop?.location.lat.toFixed(6)}, Lon: {tempManualStop?.location.lon.toFixed(6)}</p>\n          </ModalCoords>\n          <ModalButtons>\n            <ModalButton $variant=\"secondary\" onClick={handleCancelManualStop}>Cancel</ModalButton>\n            <ModalButton $variant=\"primary\" onClick={handleConfirmManualStop}>Add Stop</ModalButton>\n          </ModalButtons>\n        </ModalContent>\n      </Modal>\n    </CreateRouteContainer>\n  );\n};\n\nexport default CreateRoute;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}