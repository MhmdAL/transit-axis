{"ast":null,"code":"import _objectSpread from\"/home/mhmdal/Projects/moveo-master/moveo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{FiSave,FiArrowLeft}from'react-icons/fi';import{Button}from'../../styles/GlobalStyles';import{PageContainer,PageHeader,PageTitle,HeaderActions,BackButton,FormCard,FormGrid,FormGroup,Label,Input,ErrorMessage}from'../../components/Common/CommonStyles';import{dataService}from'../../services/dataService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateUser=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({name:'',qid:'',email:'',phone:''});const[errors,setErrors]=useState([]);const[isSubmitting,setIsSubmitting]=useState(false);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear errors when user starts typing\nif(errors.length>0){setErrors([]);}};const validateForm=()=>{const newErrors=[];if(!formData.name.trim()){newErrors.push('Name is required');}if(!formData.phone.trim()){newErrors.push('Phone number is required');}if(!formData.email.trim()){newErrors.push('Email is required');}setErrors(newErrors);return newErrors.length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsSubmitting(true);try{await dataService.createUser(formData);navigate('/users');}catch(error){console.error('Error creating user:',error);setErrors([error.message||'Failed to create user. Please try again.']);}finally{setIsSubmitting(false);}};const handleCancel=()=>{navigate('/users');};return/*#__PURE__*/_jsxs(PageContainer,{className:\"fade-in\",children:[/*#__PURE__*/_jsxs(PageHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(BackButton,{onClick:handleCancel,children:/*#__PURE__*/_jsx(FiArrowLeft,{size:18})}),/*#__PURE__*/_jsx(PageTitle,{children:\"Create New User\"})]}),/*#__PURE__*/_jsxs(HeaderActions,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCancel,disabled:isSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleSubmit,disabled:isSubmitting,children:[/*#__PURE__*/_jsx(FiSave,{}),isSubmitting?'Creating...':'Create User']})]})]}),/*#__PURE__*/_jsx(FormCard,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(FormGrid,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleInputChange,placeholder:\"Enter full name\",hasError:errors.length>0})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:\"Email *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,placeholder:\"Enter email\",hasError:errors.length>0})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:\"Phone Number *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"phone\",name:\"phone\",value:formData.phone,onChange:handleInputChange,placeholder:\"Enter phone \",hasError:errors.length>0})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"qid\",children:\"QID *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"qid\",name:\"qid\",value:formData.qid,onChange:handleInputChange,placeholder:\"Enter qid \",hasError:errors.length>0})]}),errors.length>0&&/*#__PURE__*/_jsx(FormGroup,{children:errors.map((error,index)=>/*#__PURE__*/_jsx(ErrorMessage,{children:error},index))})]})})})]});};export default CreateUser;","map":{"version":3,"names":["React","useState","useNavigate","FiSave","FiArrowLeft","Button","PageContainer","PageHeader","PageTitle","HeaderActions","BackButton","FormCard","FormGrid","FormGroup","Label","Input","ErrorMessage","dataService","jsx","_jsx","jsxs","_jsxs","CreateUser","navigate","formData","setFormData","name","qid","email","phone","errors","setErrors","isSubmitting","setIsSubmitting","handleInputChange","e","value","target","prev","_objectSpread","length","validateForm","newErrors","trim","push","handleSubmit","preventDefault","createUser","error","console","message","handleCancel","className","children","style","display","alignItems","gap","onClick","size","variant","disabled","onSubmit","htmlFor","type","id","onChange","placeholder","hasError","map","index"],"sources":["/home/mhmdal/Projects/moveo-master/moveo/src/pages/Users/CreateUser.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiUser, FiSave, FiArrowLeft } from 'react-icons/fi';\nimport { Button } from '../../styles/GlobalStyles';\nimport { \n  PageContainer,\n  PageHeader,\n  PageTitle,\n  HeaderActions,\n  BackButton,\n  FormCard,\n  FormGrid,\n  FormGroup,\n  Label,\n  Input,\n  ErrorMessage\n} from '../../components/Common/CommonStyles';\nimport { dataService } from '../../services/dataService';\n\ninterface UserFormData {\n  name: string;\n  qid: string;\n  email: string;\n  phone: string;\n}\n\nconst CreateUser: React.FC = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState<UserFormData>({\n    name: '',\n    qid: '',\n    email: '',\n    phone: ''\n  });\n  const [errors, setErrors] = useState<string[]>([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    \n    // Clear errors when user starts typing\n    if (errors.length > 0) {\n      setErrors([]);\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: string[] = [];\n\n    if (!formData.name.trim()) {\n      newErrors.push('Name is required');\n    }\n\n    if (!formData.phone.trim()) {\n      newErrors.push('Phone number is required');\n    }\n\n    if (!formData.email.trim()) {\n      newErrors.push('Email is required');\n    }\n    setErrors(newErrors);\n    return newErrors.length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    \n    try {\n      await dataService.createUser(formData);\n      navigate('/users');\n    } catch (error: any) {\n      console.error('Error creating user:', error);\n      setErrors([error.message || 'Failed to create user. Please try again.']);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate('/users');\n  };\n\n  return (\n    <PageContainer className=\"fade-in\">\n      <PageHeader>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n          <BackButton onClick={handleCancel}>\n            <FiArrowLeft size={18} />\n          </BackButton>\n          <PageTitle>Create New User</PageTitle>\n        </div>\n        <HeaderActions>\n          <Button variant=\"secondary\" onClick={handleCancel} disabled={isSubmitting}>\n            Cancel\n          </Button>\n          <Button \n            variant=\"primary\" \n            onClick={handleSubmit}\n            disabled={isSubmitting}\n          >\n            <FiSave />\n            {isSubmitting ? 'Creating...' : 'Create User'}\n          </Button>\n        </HeaderActions>\n      </PageHeader>\n\n      <FormCard>\n        <form onSubmit={handleSubmit}>\n          <FormGrid>\n            <FormGroup>\n              <Label htmlFor=\"name\">Full Name *</Label>\n              <Input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                placeholder=\"Enter full name\"\n                hasError={errors.length > 0}\n              />\n            </FormGroup>\n\n            <FormGroup>\n              <Label htmlFor=\"email\">Email *</Label>\n              <Input\n                type=\"text\"\n                id=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                placeholder=\"Enter email\"\n                hasError={errors.length > 0}\n              />\n            </FormGroup>\n\n            <FormGroup>\n              <Label htmlFor=\"phone\">Phone Number *</Label>\n              <Input\n                type=\"text\"\n                id=\"phone\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleInputChange}\n                placeholder=\"Enter phone \"\n                hasError={errors.length > 0}\n              />\n            </FormGroup>\n\n            <FormGroup>\n              <Label htmlFor=\"qid\">QID *</Label>\n              <Input\n                type=\"text\"\n                id=\"qid\"\n                name=\"qid\"\n                value={formData.qid}\n                onChange={handleInputChange}\n                placeholder=\"Enter qid \"\n                hasError={errors.length > 0}\n              />\n            </FormGroup>\n\n\n            {errors.length > 0 && (\n              <FormGroup>\n                {errors.map((error, index) => (\n                  <ErrorMessage key={index}>{error}</ErrorMessage>\n                ))}\n              </FormGroup>\n            )}\n          </FormGrid>\n        </form>\n      </FormCard>\n\n    </PageContainer>\n  );\n};\n\nexport default CreateUser;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}