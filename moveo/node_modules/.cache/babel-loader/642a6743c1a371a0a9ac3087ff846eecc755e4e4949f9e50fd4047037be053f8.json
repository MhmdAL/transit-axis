{"ast":null,"code":"import _objectSpread from\"/home/mhmdal/Projects/moveo-master/moveo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{FiSave,FiArrowLeft}from'react-icons/fi';import{Button}from'../../styles/GlobalStyles';import{PageContainer,PageHeader,PageTitle,HeaderActions,BackButton,FormCard,FormGrid,FormGroup,Label,Input,ErrorMessage}from'../../components/Common/CommonStyles';import{dataService}from'../../services/dataService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateDriver=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({name:'',qid:'',phone:'',email:''});const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:undefined}));}};const validateForm=()=>{const newErrors={};if(!formData.name.trim()){newErrors.name='Driver name is required';}if(!formData.qid.trim()){newErrors.qid='QID is required';}if(!formData.phone.trim()){newErrors.phone='Phone number is required';}if(!formData.email.trim()){newErrors.email='Email is required';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsSubmitting(true);try{await dataService.createDriver(formData);navigate('/drivers');}catch(error){console.error('Error creating driver:',error);alert('Failed to create driver. Please try again.');}finally{setIsSubmitting(false);}};const handleCancel=()=>{navigate('/drivers');};return/*#__PURE__*/_jsxs(PageContainer,{className:\"fade-in\",children:[/*#__PURE__*/_jsxs(PageHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(BackButton,{onClick:handleCancel,children:/*#__PURE__*/_jsx(FiArrowLeft,{size:18})}),/*#__PURE__*/_jsx(PageTitle,{children:\"Create New Driver\"})]}),/*#__PURE__*/_jsxs(HeaderActions,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCancel,disabled:isSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleSubmit,disabled:isSubmitting,children:[/*#__PURE__*/_jsx(FiSave,{}),isSubmitting?'Creating...':'Create Driver']})]})]}),/*#__PURE__*/_jsx(FormCard,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(FormGrid,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",children:\"Name *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleInputChange,placeholder:\"Enter driver name\",hasError:!!errors.name}),errors.name&&/*#__PURE__*/_jsx(ErrorMessage,{children:errors.name})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"qid\",children:\"QID *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"qid\",name:\"qid\",value:formData.qid,onChange:handleInputChange,placeholder:\"Enter QID\",hasError:!!errors.qid}),errors.qid&&/*#__PURE__*/_jsx(ErrorMessage,{children:errors.qid})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:\"Phone Number *\"}),/*#__PURE__*/_jsx(Input,{type:\"tel\",id:\"phone\",name:\"phone\",value:formData.phone,onChange:handleInputChange,placeholder:\"Enter phone number\",hasError:!!errors.phone}),errors.phone&&/*#__PURE__*/_jsx(ErrorMessage,{children:errors.phone})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:\"Email *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,placeholder:\"Enter email\",hasError:!!errors.email}),errors.email&&/*#__PURE__*/_jsx(ErrorMessage,{children:errors.email})]})]})})})]});};export default CreateDriver;","map":{"version":3,"names":["React","useState","useNavigate","FiSave","FiArrowLeft","Button","PageContainer","PageHeader","PageTitle","HeaderActions","BackButton","FormCard","FormGrid","FormGroup","Label","Input","ErrorMessage","dataService","jsx","_jsx","jsxs","_jsxs","CreateDriver","navigate","formData","setFormData","name","qid","phone","email","errors","setErrors","isSubmitting","setIsSubmitting","handleInputChange","e","value","target","prev","_objectSpread","undefined","validateForm","newErrors","trim","Object","keys","length","handleSubmit","preventDefault","createDriver","error","console","alert","handleCancel","className","children","style","display","alignItems","gap","onClick","size","variant","disabled","onSubmit","htmlFor","type","id","onChange","placeholder","hasError"],"sources":["/home/mhmdal/Projects/moveo-master/moveo/src/pages/Drivers/CreateDriver.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FiUser, FiSave, FiArrowLeft } from 'react-icons/fi';\nimport { Button } from '../../styles/GlobalStyles';\nimport { \n  PageContainer,\n  PageHeader,\n  PageTitle,\n  HeaderActions,\n  BackButton,\n  FormCard,\n  FormGrid,\n  FormGroup,\n  Label,\n  Input,\n  ErrorMessage\n} from '../../components/Common/CommonStyles';\nimport { Driver } from '../../types';\nimport { dataService } from '../../services/dataService';\n\ninterface DriverFormData {\n  name: string;\n  qid: string;\n  phone: string;\n  email: string;\n}\n\nconst CreateDriver: React.FC = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState<DriverFormData>({\n    name: '',\n    qid: '',\n    phone: '',\n    email: ''\n  });\n  const [errors, setErrors] = useState<Partial<DriverFormData>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    \n    // Clear error when user starts typing\n    if (errors[name as keyof DriverFormData]) {\n      setErrors(prev => ({ ...prev, [name]: undefined }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: Partial<DriverFormData> = {};\n\n    if (!formData.name.trim()) {\n      newErrors.name = 'Driver name is required';\n    }\n\n    if (!formData.qid.trim()) {\n      newErrors.qid = 'QID is required';\n    }\n\n    if (!formData.phone.trim()) {\n      newErrors.phone = 'Phone number is required';\n    }\n\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email is required';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    \n    try {\n      await dataService.createDriver(formData);\n      navigate('/drivers');\n    } catch (error) {\n      console.error('Error creating driver:', error);\n      alert('Failed to create driver. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate('/drivers');\n  };\n\n  return (\n    <PageContainer className=\"fade-in\">\n      <PageHeader>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n          <BackButton onClick={handleCancel}>\n            <FiArrowLeft size={18} />\n          </BackButton>\n          <PageTitle>Create New Driver</PageTitle>\n        </div>\n        <HeaderActions>\n          <Button variant=\"secondary\" onClick={handleCancel} disabled={isSubmitting}>\n            Cancel\n          </Button>\n          <Button \n            variant=\"primary\" \n            onClick={handleSubmit}\n            disabled={isSubmitting}\n          >\n            <FiSave />\n            {isSubmitting ? 'Creating...' : 'Create Driver'}\n          </Button>\n        </HeaderActions>\n      </PageHeader>\n\n      <FormCard>\n        <form onSubmit={handleSubmit}>\n          <FormGrid>\n            <FormGroup>\n              <Label htmlFor=\"name\">Name *</Label>\n              <Input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                placeholder=\"Enter driver name\"\n                hasError={!!errors.name}\n              />\n              {errors.name && <ErrorMessage>{errors.name}</ErrorMessage>}\n            </FormGroup>\n\n            <FormGroup>\n              <Label htmlFor=\"qid\">QID *</Label>\n              <Input\n                type=\"text\"\n                id=\"qid\"\n                name=\"qid\"\n                value={formData.qid}\n                onChange={handleInputChange}\n                placeholder=\"Enter QID\"\n                hasError={!!errors.qid}\n              />\n              {errors.qid && <ErrorMessage>{errors.qid}</ErrorMessage>}\n            </FormGroup>\n\n            <FormGroup>\n              <Label htmlFor=\"phone\">Phone Number *</Label>\n              <Input\n                type=\"tel\"\n                id=\"phone\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleInputChange}\n                placeholder=\"Enter phone number\"\n                hasError={!!errors.phone}\n              />\n              {errors.phone && <ErrorMessage>{errors.phone}</ErrorMessage>}\n            </FormGroup>\n\n            <FormGroup>\n              <Label htmlFor=\"email\">Email *</Label>\n              <Input\n                type=\"text\"\n                id=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                placeholder=\"Enter email\"\n                hasError={!!errors.email}\n              />\n              {errors.email && <ErrorMessage>{errors.email}</ErrorMessage>}\n            </FormGroup>\n\n          </FormGrid>\n        </form>\n      </FormCard>\n    </PageContainer>\n  );\n};\n\nexport default CreateDriver;"],"mappings":"6HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAAiBC,MAAM,CAAEC,WAAW,KAAQ,gBAAgB,CAC5D,OAASC,MAAM,KAAQ,2BAA2B,CAClD,OACEC,aAAa,CACbC,UAAU,CACVC,SAAS,CACTC,aAAa,CACbC,UAAU,CACVC,QAAQ,CACRC,QAAQ,CACRC,SAAS,CACTC,KAAK,CACLC,KAAK,CACLC,YAAY,KACP,sCAAsC,CAE7C,OAASC,WAAW,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBASzD,KAAM,CAAAC,YAAsB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAAAC,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACsB,QAAQ,CAAEC,WAAW,CAAC,CAAGxB,QAAQ,CAAiB,CACvDyB,IAAI,CAAE,EAAE,CACRC,GAAG,CAAE,EAAE,CACPC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EACT,CAAC,CAAC,CACF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAG9B,QAAQ,CAA0B,CAAC,CAAC,CAAC,CACjE,KAAM,CAAC+B,YAAY,CAAEC,eAAe,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAAiC,iBAAiB,CAAIC,CAAsC,EAAK,CACpE,KAAM,CAAET,IAAI,CAAEU,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCZ,WAAW,CAACa,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE,CAACZ,IAAI,EAAGU,KAAK,EAAG,CAAC,CAEjD;AACA,GAAIN,MAAM,CAACJ,IAAI,CAAyB,CAAE,CACxCK,SAAS,CAACO,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE,CAACZ,IAAI,EAAGc,SAAS,EAAG,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAe,CAClC,KAAM,CAAAC,SAAkC,CAAG,CAAC,CAAC,CAE7C,GAAI,CAAClB,QAAQ,CAACE,IAAI,CAACiB,IAAI,CAAC,CAAC,CAAE,CACzBD,SAAS,CAAChB,IAAI,CAAG,yBAAyB,CAC5C,CAEA,GAAI,CAACF,QAAQ,CAACG,GAAG,CAACgB,IAAI,CAAC,CAAC,CAAE,CACxBD,SAAS,CAACf,GAAG,CAAG,iBAAiB,CACnC,CAEA,GAAI,CAACH,QAAQ,CAACI,KAAK,CAACe,IAAI,CAAC,CAAC,CAAE,CAC1BD,SAAS,CAACd,KAAK,CAAG,0BAA0B,CAC9C,CAEA,GAAI,CAACJ,QAAQ,CAACK,KAAK,CAACc,IAAI,CAAC,CAAC,CAAE,CAC1BD,SAAS,CAACb,KAAK,CAAG,mBAAmB,CACvC,CAEAE,SAAS,CAACW,SAAS,CAAC,CACpB,MAAO,CAAAE,MAAM,CAACC,IAAI,CAACH,SAAS,CAAC,CAACI,MAAM,GAAK,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAZ,CAAkB,EAAK,CACjDA,CAAC,CAACa,cAAc,CAAC,CAAC,CAElB,GAAI,CAACP,YAAY,CAAC,CAAC,CAAE,CACnB,OACF,CAEAR,eAAe,CAAC,IAAI,CAAC,CAErB,GAAI,CACF,KAAM,CAAAhB,WAAW,CAACgC,YAAY,CAACzB,QAAQ,CAAC,CACxCD,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAE,MAAO2B,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CE,KAAK,CAAC,4CAA4C,CAAC,CACrD,CAAC,OAAS,CACRnB,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED,KAAM,CAAAoB,YAAY,CAAGA,CAAA,GAAM,CACzB9B,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CAED,mBACEF,KAAA,CAACf,aAAa,EAACgD,SAAS,CAAC,SAAS,CAAAC,QAAA,eAChClC,KAAA,CAACd,UAAU,EAAAgD,QAAA,eACTlC,KAAA,QAAKmC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAJ,QAAA,eACjEpC,IAAA,CAACT,UAAU,EAACkD,OAAO,CAAEP,YAAa,CAAAE,QAAA,cAChCpC,IAAA,CAACf,WAAW,EAACyD,IAAI,CAAE,EAAG,CAAE,CAAC,CACf,CAAC,cACb1C,IAAA,CAACX,SAAS,EAAA+C,QAAA,CAAC,mBAAiB,CAAW,CAAC,EACrC,CAAC,cACNlC,KAAA,CAACZ,aAAa,EAAA8C,QAAA,eACZpC,IAAA,CAACd,MAAM,EAACyD,OAAO,CAAC,WAAW,CAACF,OAAO,CAAEP,YAAa,CAACU,QAAQ,CAAE/B,YAAa,CAAAuB,QAAA,CAAC,QAE3E,CAAQ,CAAC,cACTlC,KAAA,CAAChB,MAAM,EACLyD,OAAO,CAAC,SAAS,CACjBF,OAAO,CAAEb,YAAa,CACtBgB,QAAQ,CAAE/B,YAAa,CAAAuB,QAAA,eAEvBpC,IAAA,CAAChB,MAAM,GAAE,CAAC,CACT6B,YAAY,CAAG,aAAa,CAAG,eAAe,EACzC,CAAC,EACI,CAAC,EACN,CAAC,cAEbb,IAAA,CAACR,QAAQ,EAAA4C,QAAA,cACPpC,IAAA,SAAM6C,QAAQ,CAAEjB,YAAa,CAAAQ,QAAA,cAC3BlC,KAAA,CAACT,QAAQ,EAAA2C,QAAA,eACPlC,KAAA,CAACR,SAAS,EAAA0C,QAAA,eACRpC,IAAA,CAACL,KAAK,EAACmD,OAAO,CAAC,MAAM,CAAAV,QAAA,CAAC,QAAM,CAAO,CAAC,cACpCpC,IAAA,CAACJ,KAAK,EACJmD,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,MAAM,CACTzC,IAAI,CAAC,MAAM,CACXU,KAAK,CAAEZ,QAAQ,CAACE,IAAK,CACrB0C,QAAQ,CAAElC,iBAAkB,CAC5BmC,WAAW,CAAC,mBAAmB,CAC/BC,QAAQ,CAAE,CAAC,CAACxC,MAAM,CAACJ,IAAK,CACzB,CAAC,CACDI,MAAM,CAACJ,IAAI,eAAIP,IAAA,CAACH,YAAY,EAAAuC,QAAA,CAAEzB,MAAM,CAACJ,IAAI,CAAe,CAAC,EACjD,CAAC,cAEZL,KAAA,CAACR,SAAS,EAAA0C,QAAA,eACRpC,IAAA,CAACL,KAAK,EAACmD,OAAO,CAAC,KAAK,CAAAV,QAAA,CAAC,OAAK,CAAO,CAAC,cAClCpC,IAAA,CAACJ,KAAK,EACJmD,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,KAAK,CACRzC,IAAI,CAAC,KAAK,CACVU,KAAK,CAAEZ,QAAQ,CAACG,GAAI,CACpByC,QAAQ,CAAElC,iBAAkB,CAC5BmC,WAAW,CAAC,WAAW,CACvBC,QAAQ,CAAE,CAAC,CAACxC,MAAM,CAACH,GAAI,CACxB,CAAC,CACDG,MAAM,CAACH,GAAG,eAAIR,IAAA,CAACH,YAAY,EAAAuC,QAAA,CAAEzB,MAAM,CAACH,GAAG,CAAe,CAAC,EAC/C,CAAC,cAEZN,KAAA,CAACR,SAAS,EAAA0C,QAAA,eACRpC,IAAA,CAACL,KAAK,EAACmD,OAAO,CAAC,OAAO,CAAAV,QAAA,CAAC,gBAAc,CAAO,CAAC,cAC7CpC,IAAA,CAACJ,KAAK,EACJmD,IAAI,CAAC,KAAK,CACVC,EAAE,CAAC,OAAO,CACVzC,IAAI,CAAC,OAAO,CACZU,KAAK,CAAEZ,QAAQ,CAACI,KAAM,CACtBwC,QAAQ,CAAElC,iBAAkB,CAC5BmC,WAAW,CAAC,oBAAoB,CAChCC,QAAQ,CAAE,CAAC,CAACxC,MAAM,CAACF,KAAM,CAC1B,CAAC,CACDE,MAAM,CAACF,KAAK,eAAIT,IAAA,CAACH,YAAY,EAAAuC,QAAA,CAAEzB,MAAM,CAACF,KAAK,CAAe,CAAC,EACnD,CAAC,cAEZP,KAAA,CAACR,SAAS,EAAA0C,QAAA,eACRpC,IAAA,CAACL,KAAK,EAACmD,OAAO,CAAC,OAAO,CAAAV,QAAA,CAAC,SAAO,CAAO,CAAC,cACtCpC,IAAA,CAACJ,KAAK,EACJmD,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,OAAO,CACVzC,IAAI,CAAC,OAAO,CACZU,KAAK,CAAEZ,QAAQ,CAACK,KAAM,CACtBuC,QAAQ,CAAElC,iBAAkB,CAC5BmC,WAAW,CAAC,aAAa,CACzBC,QAAQ,CAAE,CAAC,CAACxC,MAAM,CAACD,KAAM,CAC1B,CAAC,CACDC,MAAM,CAACD,KAAK,eAAIV,IAAA,CAACH,YAAY,EAAAuC,QAAA,CAAEzB,MAAM,CAACD,KAAK,CAAe,CAAC,EACnD,CAAC,EAEJ,CAAC,CACP,CAAC,CACC,CAAC,EACE,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAP,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}